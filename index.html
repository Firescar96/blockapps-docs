<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Blockapps Documentation</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript","shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href="http://blockapps.net">
        <div class="logo-section">
          <div class="logo"></div>
        </div>
      </a>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>Copyright © 2015 by <a href="http://www.consensys.net">ConsenSys, LLC</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>All blockchain based applications will need to pull information from the blockchain. We’ve made that process simple. We’ve created an intuitive RESTful API for querying the Ethereum Blockchain. Our Haskell based Ethereum network peer (client) is compliant with PoC9 and can also be used as a web server. But you don’t have to install the peer - simply follow the links below to try the API.</p>

<p>We have static GET routes for transactions, blocks and account states. More generally, we support query strings. See the descriptions within, including examples. Also, check out a demo of how to parse and visualize the records you’ve requested.</p>

<p>Take a look at our build test results.</p>

<p>Coming Soon:</p>

<p>Push Notifications - be notified of new blocks, transaction confirmations, as they happen. Transaction Signing - sign transactions in the browser, and push them to the network - without running a client locally. Network Statistics - view the health of the network, in real time.</p>

<h1 id="endpoints">Endpoints</h1>

<blockquote>
<p>Our javascript examples use the [jQuery(google.com) library</p>
</blockquote>

<p>There are three REST endpoints, corrensponding to the query of a block, address and a transaction, respectively.</p>

<p>All of these queries can be appended with page=n for pageing. Pageing starts at 0 so /query?block=xxxx is equivalent to /query?block=xxxx&amp;page=0. For blocks we support indexing. If you want to query a large range, supply index=n where n-1 is the last block that you queried. This will supersede paging once we include indexing for accounts.</p>

<p>All requests are to stablenet.blockapps.net</p>

<h3 id="block">Block</h3>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"stablenet.blockapps.net/query/block"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/query/block"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"/query/block?index=82"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"Block"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blockUncles"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"receiptTransactions"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"blockData"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"extraData"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gasUsed"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gasLimit"</span><span class="p">:</span><span class="mi">3141592</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"BlockData"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"unclesHash"</span><span class="p">:</span><span class="s2">"1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mixHash"</span><span class="p">:</span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"receiptsRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="mi">131072</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"1970-01-01T00:00:00.000000000000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"parentHash"</span><span class="p">:</span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stateRoot"</span><span class="p">:</span><span class="s2">"9178d0f23c965d81f0834a4c72c6253ce6830f4022b1359aaebfc1ecba442d4e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"transactionsRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /query/block?</code></p>

<p>Note that blocks come with a next field that contains the index for the next 100 results.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>Returns blocks that match a specific number</td>
</tr>
<tr>
<td>maxnumber</td>
<td>Returns blocks with a number less than a maximum</td>
</tr>
<tr>
<td>minnumber</td>
<td>Returns blocks with a number greater than a minimum</td>
</tr>
<tr>
<td>gaslim</td>
<td>Returns blocks that match the specified gas limit</td>
</tr>
<tr>
<td>maxgaslim</td>
<td>Returns blocks with agas limit less than a maximum gas limit</td>
</tr>
<tr>
<td>mingaslim</td>
<td>Returns blocks with a gas limit greater than a minimum</td>
</tr>
<tr>
<td>gasused</td>
<td>Returns blocks that match the specified gas used</td>
</tr>
<tr>
<td>maxgasused</td>
<td>Returns blocks with gas used less than a maximum</td>
</tr>
<tr>
<td>mingasused</td>
<td>Returns blocks with gas used greater than a minimum</td>
</tr>
<tr>
<td>diff</td>
<td>Returns blocks with a specific difficulty</td>
</tr>
<tr>
<td>maxdiff</td>
<td>Returns blocks with a difficulty less than a maximum</td>
</tr>
<tr>
<td>mindiff</td>
<td>Returns blocks with a difficulty greater than a minimum</td>
</tr>
<tr>
<td>txaddress</td>
<td>Queries blocks by their contained transaction addresses</td>
</tr>
<tr>
<td>coinbase</td>
<td>Queries blocks by the coinbase of contained transactions</td>
</tr>
<tr>
<td>address</td>
<td>Queres blocks by the address of contained transactions</td>
</tr>
<tr>
<td>hash</td>
<td>Queries blocks by their hash</td>
</tr>
</tbody></table>

<h3 id="account">Account</h3>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"stablenet.blockapps.net/query/account"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/query/account"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"contractRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"/query/account?index=b09a536c0aedf2b61dee9b8e0137bf5cb519bf340"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"AddressStateRef"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"balance"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codeHash"</span><span class="p">:</span><span class="s2">"c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /query/account?</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>Returns accounts that match a specific balance</td>
</tr>
<tr>
<td>maxbalance</td>
<td>Returns accounts with a balance less than a maximum</td>
</tr>
<tr>
<td>minbalance</td>
<td>Returns accounts with a balance greater than a minimum</td>
</tr>
<tr>
<td>nonce</td>
<td>Returns accounts that match a specific nonce</td>
</tr>
<tr>
<td>maxnonce</td>
<td>Returns accounts with a nonce less than a maximum</td>
</tr>
<tr>
<td>minnonce</td>
<td>Returns accounts with a nonce greater than a minimum</td>
</tr>
<tr>
<td>address</td>
<td>Returns accounts with the specified address</td>
</tr>
</tbody></table>

<h3 id="transaction">Transaction</h3>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"stablenet.blockapps.net/query/transaction"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/query/transaction"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"transactionType"</span><span class="p">:</span><span class="s2">"FunctionCall"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"/query/transaction?index=39780"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"831716403cf9919e96ef122234b632e3be34c69c475d4f576b86a14b4b47eddc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gasLimit"</span><span class="p">:</span><span class="mi">90000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codeOrData"</span><span class="p">:</span><span class="s2">"de5f72fd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gasPrice"</span><span class="p">:</span><span class="mi">10000000000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"b8cd5067227fdec355c5531accbcdf734a0869e8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1c11aa45c792e202e9ffdc2f12f99d0d209bef70"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blockNumber"</span><span class="p">:</span><span class="mi">32308</span><span class="p">,</span><span class="w">
    </span><span class="s2">"r"</span><span class="p">:</span><span class="s2">"6acd4884c360d5906fc1434313c4325e6a1ff90a8dccffdc2879abab03385431"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"s"</span><span class="p">:</span><span class="s2">"2ba4e89ebc46a0800ef71876f6501f34caf8d098b57cbb73c64739e04894aaf4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"v"</span><span class="p">:</span><span class="s2">"1b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /query/transaction?</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>Returns transactions from the specified address</td>
</tr>
<tr>
<td>to</td>
<td>Returns transactions to the specified address</td>
</tr>
<tr>
<td>address</td>
<td>Returns transactions involving the specified address</td>
</tr>
<tr>
<td>value</td>
<td>Returns transactions of a specific value</td>
</tr>
<tr>
<td>maxvalue</td>
<td>Returns transactions with a value less than a maximum</td>
</tr>
<tr>
<td>minvalue</td>
<td>Returns transactions with a value greater than a minimum</td>
</tr>
<tr>
<td>gasprice</td>
<td>Returns transactions with the specified gas price</td>
</tr>
<tr>
<td>maxgasprice</td>
<td>Returns transactions with a gas price less than a maximum</td>
</tr>
<tr>
<td>mingasprice</td>
<td>Returns transactions with a gas price greater than a minimum</td>
</tr>
<tr>
<td>gaslimit</td>
<td>Returns transactions with the specified gas limit</td>
</tr>
<tr>
<td>maxgaslimit</td>
<td>Returns transactions with a gas limit less than a maximum</td>
</tr>
<tr>
<td>mingaslimit</td>
<td>Returns transactions with a gas limit greater than a minimum</td>
</tr>
<tr>
<td>blocknumber</td>
<td>Returns Transactions with a blocknumber</td>
</tr>
</tbody></table>

<h2 id="extra-parameters">Extra parameters</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>raw=1</td>
<td>passes the pre-processor and gives you the raw result (default: raw=0)</td>
</tr>
<tr>
<td>index=</td>
<td>a cursor for querying the next 100 items correctly. Also see the next field.</td>
</tr>
</tbody></table>

<h2 id="type-of-transactions">Type of transactions</h2>

<table><thead>
<tr>
<th>Transaction</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td>Contract</td>
<td>toAddress != Null and len(code) &gt;= 0</td>
</tr>
<tr>
<td>FunctionCall</td>
<td>toAddress == Null and len(code) &gt; 0</td>
</tr>
<tr>
<td>Transaction</td>
<td>toAddress != Null and len(code) == 0</td>
</tr>
</tbody></table>

<h1 id="demo">Demo</h1>

<blockquote>
<p><a href="http://consensys.github.io/address-explorer/">Demo the app</a></p>

<p><a href="https://github.com/ConsenSys/address-explorer/wiki/Building-Your-Own-Address-Explorer">Follow the tutorial</a></p>

<p><a href="https://github.com/ConsenSys/address-explorer">View the source</a></p>
</blockquote>

<p>We have a tutorial application using the blockapps api to create a block explorer.
Demo the app then follow the tutorial to see how it works.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
    <!-- GA -->
    <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-64394910-1', 'auto');
     ga('send', 'pageview');

    </script>
  </body>
</html>
