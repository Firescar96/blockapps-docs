<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Blockapps Documentation</title>
    <link rel="icon" type="image/jpeg" href="images/favicon.jpg" />

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript","shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href="http://www.blockapps.net">
        <div class="logo-section">
          <div class="logo"></div>
        </div>
      </a>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li>Copyright Â© 2015 by <a href="http://www.consensys.net">ConsenSys, LLC</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Blockchain-based applications need to pull information from the blockchain. BlockApps makes that process simple with an intuitive RESTful API for querying the Ethereum Blockchain.</p>

<h2 id="dapps">dApps</h2>

<h3 id="what-is-a-dapp?">What is a dApp?</h3>

<p>A dApp is a <strong>decentralized App</strong>.</p>

<p>dApps on Ethereum can be entirely decentralized, meaning that they can run entirely peer-to-peer, like BitTorrent.</p>

<p>Entirely P2P dApps require downloading a stack of desktop software tools so your computer can be an Ethereum node that talks to the Ethereum network.</p>

<p>BlockApps helps you develop webapps more quickly by being that stack for you. Just use the BlockApps API to build and prototype webapps that interact with the Ethereum Blockhain in any web browser.</p>

<h3 id="how-are-dapps-created?">How are dApps created?</h3>

<p>A basic dApp consists of a frontend user interface in a web browser and a smart contract on the blockchain. They can be comprised of an unlimited number of parts and features on top of this. dApps can also call other dApps.</p>

<h3 id="what-are-the-basic-components-of-dapps-on-ethereum?">What are the basic components of dApps on Ethereum?</h3>

<p>Check out our <a href="#background">introductory tutorial</a> for a quick overview of basic dApp concepts.</p>

<h2 id="blockapps">BlockApps</h2>

<h3 id="how-does-blockapps-work?">How does BlockApps work?</h3>

<p>Our Haskell-based Ethereum network peer (client) is compliant with the PoC9 Ethereum testnet and can also be used as a web server. But you don&rsquo;t have to install the peer, just use the API.</p>

<p>We have static GET routes for transactions, blocks and account states. More generally, we support query strings.</p>

<h3 id="is-there-a-demo-or-tutorial?">Is there a demo or tutorial?</h3>

<p>Yes! Visit the links at left for a demo and tutorial of how to parse and visualize blockchain records requested using the BlockApps API.</p>

<p><strong>Coming Soon:</strong></p>

<ul>
<li><p><strong>Push Notifications</strong> - be notified of new blocks, transaction confirmations, as they happen.</p></li>
<li><p><strong>Transaction Signing</strong> - sign transactions in the browser, and push them to the network - without running a client locally.</p></li>
<li><p><strong>Network Statistics</strong> - view the health of the network, in real time.</p></li>
</ul>

<h1 id="sample-queries">Sample Queries</h1>

<p>Check out some sample queries made using the BlockApps API&hellip;</p>

<p>Resources are located via GET routes. Requests are routed by the return type - blocks, accounts or transactions.</p>

<p>We have a few pre-built simple routes shown below, and the API supports a general querystring syntax. Routes are meant to be invoked via HTTP requests and return raw JSON.</p>

<h2 id="by-block">By Block</h2>

<p><strong>Blocks are fetchable by a variety of queries</strong></p>

<ul>
<li><p>Grab the genesis block by <a href="http://stablenet.blockapps.net/query/block/number/0">number</a> or by <a href="http://stablenet.blockapps.net/query/block/hash/fd4af92a79c7fc2fd8bf0d342f2e832e1d4f485c85b9152d2039e03bc604fdca">hash</a>.</p></li>
<li><p>Find blocks with a fair amount of <a href="http://stablenet.blockapps.net/query/block/gasrange/lower/100000/upper/150000">gas usage</a>.</p></li>
<li><p>Or even, get the last 42 blocks - in <a href="http://stablenet.blockapps.net/query/block/last/42">real time</a>.</p></li>
</ul>

<h2 id="by-account">By Account</h2>

<p><strong>Accounts, too, are easily queried.</strong></p>

<ul>
<li><p>What&rsquo;s going on at address <a href="http://stablenet.blockapps.net/query/account/address/af8b2d3fe28201476fc0a3961f8f9690693f3ef4">af8b2d3fe28201476fc0a3961f8f9690693f3ef4</a>?</p></li>
<li><p>Which accounts have nonce equal to <a href="http://stablenet.blockapps.net/query/account/nonce/2">two</a>?</p></li>
<li><p>Does anyone have balance <a href="http://stablenet.blockapps.net/query/account/balance/33000000000000000000">33000000000000000000</a>?</p></li>
</ul>

<h2 id="by-address">By Address</h2>

<p><strong>See the transations to and from addresses:</strong></p>

<ul>
<li>A popular <a href="http://stablenet.blockapps.net/query/transaction/address/e1fd0d4a52b75a694de8b55528ad48e2e2cf7859">address</a>.</li>
</ul>

<h2 id="by-transaction">By Transaction</h2>

<p><strong>Get information about pushed transactions</strong></p>

<ul>
<li>The result of a contract creation <a
href="http://stablenet.blockapps.net/transactionResult/02237887f5a4104e205835f9e94c84435913435a6c34b0b582c5f706571cd40c">transaction</a></li>
</ul>

<h1 id="endpoints">Endpoints</h1>

<aside class="notice">
  Our JavaScript examples use the jQuery library.
</aside>

<p>There are multiple RESTful endpoints, corrensponding to:</p>

<ul>
<li>operations on <strong>blocks</strong>,</li>
<li>operations on <strong>addresses</strong> and</li>
<li>opreations on <strong>transactions</strong>.</li>
</ul>

<p>All requests are to <em>http://stablenet.blockapps.net</em></p>

<h2 id="get-block">GET Block</h2>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"http://stablenet.blockapps.net/query/block"</span><span class="p">)</span> <span class="p">{</span><span class="nl">number</span><span class="p">:</span> <span class="mi">42</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/query/block?number=42"</span>
</code></pre>

<blockquote>
<p>The command at right returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"/query/block?index=43&amp;number=42"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"Block"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blockUncles"</span><span class="p">:[],</span><span class="w">
    </span><span class="s2">"receiptTransactions"</span><span class="p">:</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"transactionType"</span><span class="p">:</span><span class="s2">"FunctionCall"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"gasLimit"</span><span class="p">:</span><span class="mi">30000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"Transaction"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:</span><span class="s2">"00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"gasPrice"</span><span class="p">:</span><span class="mi">10000000000000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"to"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"fd888462ba01400a37768e53791df4617c77cd08"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
          </span><span class="s2">"r"</span><span class="p">:</span><span class="s2">"244fd84898d7c25537dc9a19b03f7ebf2796de804eb886e40a5ba2b4ff994788"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"s"</span><span class="p">:</span><span class="s2">"46ed2a17765fb10f46f9a70c2e5a8e3635113e03b5785b32b0f77c942e7188d1"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"v"</span><span class="p">:</span><span class="s2">"1c"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"blockData"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"extraData"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"gasUsed"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"gasLimit"</span><span class="p">:</span><span class="mi">3141592</span><span class="p">,</span><span class="w">
          </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"BlockData"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"unclesHash"</span><span class="p">:</span><span class="s2">"1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"mixHash"</span><span class="p">:</span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"receiptsRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"number"</span><span class="p">:</span><span class="mi">42</span><span class="p">,</span><span class="w">
          </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="mi">132480</span><span class="p">,</span><span class="w">
          </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="s2">"2015-06-24T17:41:27.442848000000Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="s2">"5b42bd01ff7b368cd80a477cb1cf0d407e2b1cbe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parentHash"</span><span class="p">:</span><span class="s2">"6297f5531e118e73a204d5e2a1e1abef6650f3463375b9ce5439869b5271e95d"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">18446744073709551615</span><span class="p">,</span><span class="w">
          </span><span class="s2">"stateRoot"</span><span class="p">:</span><span class="s2">"9eb06ef32021054a4043cb65381910414d572e3ea5a1751036987cdc44c8e943"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"transactionsRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="w">
        </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /query/block?</code></p>

<p>Note that blocks come with a next field that contains the index for the next 100 results.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>number</strong></td>
<td>Returns blocks that match a specific number</td>
</tr>
<tr>
<td><strong>maxnumber</strong></td>
<td>Returns blocks with a number less than a maximum</td>
</tr>
<tr>
<td><strong>minnumber</strong></td>
<td>Returns blocks with a number greater than a minimum</td>
</tr>
<tr>
<td><strong>gaslim</strong></td>
<td>Returns blocks that match the specified gas limit</td>
</tr>
<tr>
<td><strong>maxgaslim</strong></td>
<td>Returns blocks with agas limit less than a maximum gas limit</td>
</tr>
<tr>
<td><strong>mingaslim</strong></td>
<td>Returns blocks with a gas limit greater than a minimum</td>
</tr>
<tr>
<td><strong>gasused</strong></td>
<td>Returns blocks that match the specified gas used</td>
</tr>
<tr>
<td><strong>maxgasused</strong></td>
<td>Returns blocks with gas used less than a maximum</td>
</tr>
<tr>
<td><strong>mingasused</strong></td>
<td>Returns blocks with gas used greater than a minimum</td>
</tr>
<tr>
<td><strong>diff</strong></td>
<td>Returns blocks with a specific difficulty</td>
</tr>
<tr>
<td><strong>maxdiff</strong></td>
<td>Returns blocks with a difficulty less than a maximum</td>
</tr>
<tr>
<td><strong>mindiff</strong></td>
<td>Returns blocks with a difficulty greater than a minimum</td>
</tr>
<tr>
<td><strong>txaddress</strong></td>
<td>Queries blocks by their contained transaction addresses</td>
</tr>
<tr>
<td><strong>coinbase</strong></td>
<td>Queries blocks by the coinbase of contained transactions</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Queres blocks by the address of contained transactions</td>
</tr>
<tr>
<td><strong>hash</strong></td>
<td>Queries blocks by their hash</td>
</tr>
</tbody></table>

<h2 id="get-account">GET Account</h2>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"http://stablenet.blockapps.net/query/account"</span><span class="p">),</span> <span class="p">{</span><span class="na">address</span><span class="p">:</span> <span class="s2">"af8b2d3fe28201476fc0a3961f8f9690693f3ef4"</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/query/account?address=af8b2d3fe28201476fc0a3961f8f9690693f3ef4"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"contractRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"AddressStateRef"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"balance"</span><span class="p">:</span><span class="s2">"1809251394333065553493296640760748560207343510400633812824226722060731360952"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"af8b2d3fe28201476fc0a3961f8f9690693f3ef4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">864</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /query/account?</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>balance</strong></td>
<td>Returns accounts that match a specific balance</td>
</tr>
<tr>
<td><strong>maxbalance</strong></td>
<td>Returns accounts with a balance less than a maximum</td>
</tr>
<tr>
<td><strong>minbalance</strong></td>
<td>Returns accounts with a balance greater than a minimum</td>
</tr>
<tr>
<td><strong>nonce</strong></td>
<td>Returns accounts that match a specific nonce</td>
</tr>
<tr>
<td><strong>maxnonce</strong></td>
<td>Returns accounts with a nonce less than a maximum</td>
</tr>
<tr>
<td><strong>minnonce</strong></td>
<td>Returns accounts with a nonce greater than a minimum</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Returns accounts with the specified address</td>
</tr>
</tbody></table>

<h2 id="get-transaction">GET Transaction</h2>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"http://stablenet.blockapps.net/query/transaction"</span><span class="p">),{</span><span class="na">value</span><span class="p">:</span><span class="mi">0</span><span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/query/transaction?value=0"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"transactionType"</span><span class="p">:</span><span class="s2">"FunctionCall"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="s2">"/query/transaction?index=39780"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"831716403cf9919e96ef122234b632e3be34c69c475d4f576b86a14b4b47eddc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gasLimit"</span><span class="p">:</span><span class="mi">90000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"codeOrData"</span><span class="p">:</span><span class="s2">"de5f72fd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gasPrice"</span><span class="p">:</span><span class="mi">10000000000000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"b8cd5067227fdec355c5531accbcdf734a0869e8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="s2">"1c11aa45c792e202e9ffdc2f12f99d0d209bef70"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blockNumber"</span><span class="p">:</span><span class="mi">32308</span><span class="p">,</span><span class="w">
    </span><span class="s2">"r"</span><span class="p">:</span><span class="s2">"6acd4884c360d5906fc1434313c4325e6a1ff90a8dccffdc2879abab03385431"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"s"</span><span class="p">:</span><span class="s2">"2ba4e89ebc46a0800ef71876f6501f34caf8d098b57cbb73c64739e04894aaf4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"v"</span><span class="p">:</span><span class="s2">"1b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /query/transaction?</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>from</strong></td>
<td>Returns transactions from the specified address</td>
</tr>
<tr>
<td><strong>to</strong></td>
<td>Returns transactions to the specified address</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Returns transactions involving the specified address</td>
</tr>
<tr>
<td><strong>value</strong></td>
<td>Returns transactions of a specific value</td>
</tr>
<tr>
<td><strong>maxvalue</strong></td>
<td>Returns transactions with a value less than a maximum</td>
</tr>
<tr>
<td><strong>minvalue</strong></td>
<td>Returns transactions with a value greater than a minimum</td>
</tr>
<tr>
<td><strong>gasprice</strong></td>
<td>Returns transactions with the specified gas price</td>
</tr>
<tr>
<td><strong>maxgasprice</strong></td>
<td>Returns transactions with a gas price less than a maximum</td>
</tr>
<tr>
<td><strong>mingasprice</strong></td>
<td>Returns transactions with a gas price greater than a minimum</td>
</tr>
<tr>
<td><strong>gaslimit</strong></td>
<td>Returns transactions with the specified gas limit</td>
</tr>
<tr>
<td><strong>maxgaslimit</strong></td>
<td>Returns transactions with a gas limit less than a maximum</td>
</tr>
<tr>
<td><strong>mingaslimit</strong></td>
<td>Returns transactions with a gas limit greater than a minimum</td>
</tr>
<tr>
<td><strong>blocknumber</strong></td>
<td>Returns Transactions with a blocknumber</td>
</tr>
</tbody></table>
<pre class="highlight javascript"><code><span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span> <span class="s2">"http://stablenet.blockapps.net/transactionResult/4ee3298d059e3664673880db272aebd5215f23554265e3e1e9de6dbf02f9f9c2"</span><span class="p">))</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">//operations on the returned json block</span>
  <span class="p">});</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"http://stablenet.blockapps.net/transactionResult/4ee3298d059e3664673880db272aebd5215f23554265e3e1e9de6dbf02f9f9c2"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"contractRoot"</span><span class="p">:</span><span class="s2">"56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kind"</span><span class="p">:</span><span class="s2">"AddressStateRef"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"balance"</span><span class="p">:</span><span class="s2">"1809251394333065553493296640760748560207343510400633812824226722060731360952"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="s2">"af8b2d3fe28201476fc0a3961f8f9690693f3ef4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nonce"</span><span class="p">:</span><span class="mi">864</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">GET /transactionResult/#hash</code></p>

<p>This route returns information about the the transaction passed to it as <code class="prettyprint">#hash</code></p>

<h3 id="types-of-transactions">Types of transactions</h3>

<table><thead>
<tr>
<th>Transaction</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Contract</strong></td>
<td>If <code class="prettyprint">toAddress != Null</code> and <code class="prettyprint">len(code)&gt;=0</code> then we have a Contract.</td>
</tr>
<tr>
<td><strong>FunctionCall</strong></td>
<td>If <code class="prettyprint">toAddress == Null</code> and <code class="prettyprint">len(code)&gt;0</code> then we have a FunctionCall.</td>
</tr>
<tr>
<td><strong>Transfer</strong></td>
<td>If <code class="prettyprint">toAddress != Null</code> and <code class="prettyprint">len(code)==0</code> we have a Transfer.</td>
</tr>
</tbody></table>

<h2 id="extra-parameters">Extra parameters</h2>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>raw</strong></td>
<td>passes the pre-processor and gives you the raw result (default: raw=0).</td>
</tr>
<tr>
<td><strong>index</strong></td>
<td>a cursor for querying the next 100 items correctly. Also see page.</td>
</tr>
<tr>
<td><strong>page</strong></td>
<td>append page=n to page any query with many results (default: page=0).*</td>
</tr>
</tbody></table>

<p><strong>Paging</strong></p>

<p>Paging begins at 0 so <code class="prettyprint">/query?block=xxxx</code> is equivalent to <code class="prettyprint">/query?block=xxxx&amp;page=0</code>.</p>

<p><strong>Indexing</strong></p>

<p>For blocks we support indexing. If you want to query a large range, supply index=n where n-1 is the last block that you queried. This will supersede paging once we include indexing for accounts.</p>

<h1 id="demo">Demo</h1>

<p>We have a demo application using the BlockApps API to create a block and address explorer. Try the demo below then follow the tutorial to see how it&rsquo;s built.</p>

<aside class="">
 <a href="http://blockapps.net/demo/">DEMO</a>
</aside>

<p>To learn how to build the demo, continue to the next section.</p>

<h1 id="tutorial">Tutorial</h1>

<h2 id="building-your-own-address-explorer">Building Your Own Address Explorer</h2>

<p>Building an Address Explorer on top of BlockApps is easy. In fact, BlockApps does most of the work for you, providing all the information you need to query and display information about an account.</p>

<h2 id="background">Background</h2>

<p>In order to build an address explorer, you must first know a bit about Ethereum. If you&rsquo;re completely new to Ethereum and we suggest you check out <a href="http://ethereum101.org/">ethereum101.org</a>.</p>

<p>Let&rsquo;s start with a basic understanding of blocks, blockchains, Ethereum, accounts, addresses, transactions, contracts, and gas.</p>

<ul>
<li><p>An <strong>account</strong> is an ethereum address that holds a specific amount of Ether, Ethereum&rsquo;s currency. Like Bitcoin, accounts can transfer Ether to other accounts (interchangeably, &ldquo;account addresses&rdquo;), as well as make more complex transactions listed below.</p></li>
<li><p>A <strong>transaction</strong> is an interaction with the Ethereum blockchain. Transactions can be transfers of Ether between accounts; they can also add contracts onto the Ethereum blockchain, or call a function listed in one of those contracts.</p></li>
<li><p>A <strong>contract</strong> is a piece of code that has been added to the blockchain that contains data and functions that can be called from transactions. Calling a function on a contract or adding a contract to the blockchain takes <strong>gas</strong>; gas is another word for the Ether in an Ethereum account, however in this case it&rsquo;s used to pay for the processing of that contract on the Ethereum network.</p></li>
<li><p>A <strong>block</strong> is a chunk of data that contains a list of transactions. Transactions are processed by the Ethereum network in blocks, so when building an address explorer, we&rsquo;ll have to interact with those blocks as we go along. More on that later.</p></li>
</ul>

<h2 id="getting-started">Getting Started</h2>

<p>Let&rsquo;s first get our basic code set up. (You can find the full code for this tutorial <a href="https://github.com/tcoulter/address-explorer/tree/master/tutorial">here</a>.)</p>

<p>The following is a slimmed down version of what&rsquo;s available in the repository. The version we&rsquo;ll create here won&rsquo;t contain an input box to enter your Ethereum address (we&rsquo;ll leave that as an experiment for the reader), and instead your Ethereum address will be pulled from the browser&rsquo;s query string. There are also many features that have been left out, but the good news is you&rsquo;ll see just how easy is it to get the bulk of an address explorer up and running.</p>
<pre class="highlight javascript"><code><span class="cm">/* address-explorer.js */</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"ready"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address Explorer JS up and running."</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<h4 id="address-explorer.js">address-explorer.js</h4>

<p>(code at right)</p>
<pre class="highlight html"><code><span class="c">&lt;!-- index.html --&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>My Address Explorer<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"https://code.jquery.com/jquery-2.1.4.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"./address-explorer.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"twelve columns"</span><span class="nt">&gt;</span>
      Your Account
    <span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"five columns"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"displayed_balance"</span> <span class="na">class=</span><span class="s">"value"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;br&gt;&lt;span</span> <span class="na">class=</span><span class="s">"label"</span><span class="nt">&gt;</span>Total Balance<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"four columns"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"transaction_count"</span> <span class="na">class=</span><span class="s">"value"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;br&gt;&lt;span</span> <span class="na">class=</span><span class="s">"label"</span><span class="nt">&gt;</span>Transactions<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"two columns"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"blocks_mined_count"</span> <span class="na">class=</span><span class="s">"value"</span><span class="nt">&gt;</span><span class="ni">&amp;nbsp;</span><span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;br&gt;&lt;span</span> <span class="na">class=</span><span class="s">"label"</span><span class="nt">&gt;</span>Blocks Mined<span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;h4</span> <span class="na">class=</span><span class="s">"twelve columns"</span><span class="nt">&gt;</span>Activity<span class="nt">&lt;/h4&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>

<h4 id="index.html">index.html</h4>

<p>(code at right)</p>

<p>After saving the above two files, you should be able to open <code class="prettyprint">index.html</code> in your browser. You should see a very basic HTML structure with no data, an if you open up your developer console you should see &ldquo;Address Explorer JS up and running.&rdquo; printed there.</p>

<p>This means were good to move onto the next step!</p>

<h2 id="getting-the-address">Getting the Address</h2>

<p>For the purposes of this tutorial, we&rsquo;re not going to build a fancy interface that asks for the users address, mostly because it distracts from simplicity of the tutorial. Instead, we&rsquo;re going to get the address from the query string. To make it even easier, we&rsquo;re going to assume the <em>whole</em> query string is the address. Pulling the query string is easy, so you should be able to edit <code class="prettyprint">address-explorer.js</code> to look like this:</p>

<h4 id="address-explorer.js">address-explorer.js</h4>
<pre class="highlight javascript"><code><span class="cm">/* address-explorer.js */</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"ready"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address Explorer JS up and running."</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">address</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address: "</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>

<p>Now, if we navigate to <code class="prettyprint">/index.html?6a56cf7a57405800b18e3e0940628c190cfa73bc</code>, we should see the address <code class="prettyprint">6a56cf7a57405800b18e3e0940628c190cfa73bc</code> printed in the console logs.</p>

<p><img src="http://i.imgur.com/NRqEaT7.png" /></p>

<p>Once we have the address, we can begin requesting data from BlockApps.</p>

<h2 id="getting-the-account-balance">Getting the Account Balance</h2>

<p>Perhaps the most important piece of information to request is the account balance. BlockApps provides an API endpoint that will give you the balance of an address over time, where the most recent entry is the current account balance. Here&rsquo;s an example using address on the network as of this writing:</p>

<p><a href="http://api.blockapps.net/query/account/address/6a56cf7a57405800b18e3e0940628c190cfa73bc">http://api.blockapps.net/query/account/address/6a56cf7a57405800b18e3e0940628c190cfa73bc</a></p>

<p><strong>Note:</strong> Ethereum is churning through multiple test networks at the time of this writing, so the address listed above might not exist at the time you read this. Make sure to use as address you know exists!</p>

<p>You can see that that endpoint provides multiple objects in an array. We&rsquo;ll use jQuery to make the request and parse the result, and then add the balance onto the page:</p>

<h4 id="address-explorer.js">address-explorer.js</h4>
<pre class="highlight javascript"><code><span class="cm">/* address-explorer.js */</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"ready"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address Explorer JS up and running."</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">address</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address: "</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>

  <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/account/address/"</span> <span class="o">+</span> <span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">balances</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#displayed_balance"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">balances</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">balance</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>

<p><strong>Note:</strong> We&rsquo;re not checking for errors here. This is to make the tutorial easy, but for your own application you should handle the case where the request fails.</p>

<p>You should now see something like this!</p>

<p><img src="http://i.imgur.com/iilKmj5.png" /></p>

<p>From here, we can now move onto getting a list of this accounts transactions.</p>

<h2 id="getting-account-transactions">Getting Account Transactions</h2>

<p>For an account explorer to be useful, we want to see all the transactions that were made <em>from</em> this account as well as all transactions sent <em>to</em> this account. Fortunately, BlockApps helps us with this significantly by providing an endpoint that does exactly that.</p>

<p>Here&rsquo;s an example for the same account used above:</p>

<p><a href="http://api.blockapps.net/query/transaction/address/6a56cf7a57405800b18e3e0940628c190cfa73bc">http://api.blockapps.net/query/transaction/address/6a56cf7a57405800b18e3e0940628c190cfa73bc</a></p>

<p>Like requesting an account balance, BlockApps provides us with an array of objects as a response. Each of these objects represent a transaction that involved the address requested, and as mentioned, transactions can be of many types. BlockApps makes it easy for you to distinguish between the types of transactions by adding a <code class="prettyprint">transactionType</code> key to each transaction. The values are as follows:</p>

<ul>
<li><p><code class="prettyprint">Transfer</code>: Either a user transferred Ether to our account, or we transferred Ether from our account to another user. If the transaction is of type <code class="prettyprint">Transfer</code>, then a <code class="prettyprint">to</code> and <code class="prettyprint">from</code> keys will be provided letting you know the direction of the transfer (one of them will be our account). The <code class="prettyprint">value</code> key, then, tells you the amount of the transfer, which will be important to display to the user.</p></li>
<li><p><code class="prettyprint">Contract</code>: This means our account placed a contract on the network. Adding a contract onto the network costs gas, and for the purposes of an address explorer we&rsquo;ll want to display how much that was. This information is stored on the block.</p></li>
<li><p><code class="prettyprint">FunctionCall</code>: This means our account called a function on an existing contract. Like adding a contract to the network, calling a function requires gas, so we&rsquo;ll need information about the block here as well.</p></li>
</ul>

<p>Notice that for all of the transactions, none of them contain a timestamp. This is because that information is stored on the block, and so regardless of type, we&rsquo;ll need to request the block so we can display that as well.</p>

<p>Before adding the above request into our address explorer, lets first cover getting the blocks associated with each transaction.</p>

<h2 id="getting-a-transaction&#39;s-block">Getting a Transaction&rsquo;s Block</h2>

<p>Each transaction object shown above has an associated block id (the <code class="prettyprint">blockId</code> key). We&rsquo;ll use this id to request the associated block.</p>

<p>Here&rsquo;s an example:</p>

<p><a href="http://api.blockapps.net/query/block/blockid/225955">http://api.blockapps.net/query/block/blockid/225955</a></p>

<p>Notice that with this request, we&rsquo;re given an array containing a single object. This object has multiple useful pieces of information, but we&rsquo;ll only cover what&rsquo;s important to us right now. Here&rsquo;s what we&rsquo;ll need:</p>

<ul>
<li><p><code class="prettyprint">gasUsed</code>: Because contracts and function calls have associated gas usage.</p></li>
<li><p><code class="prettyprint">timestamp</code>: Because we want to know when transactions occurred.</p></li>
</ul>

<p>From here we can take both the transaction request and the block requests and put them into our app:</p>
<pre class="highlight javascript"><code><span class="cm">/* address-explorer.js */</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"ready"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address Explorer JS up and running."</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">address</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address: "</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>

  <span class="c1">// Get the account balance.</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/account/address/"</span> <span class="o">+</span> <span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">balances</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#displayed_balance"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">balances</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">balance</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="c1">// Function for getting individual blocks.</span>
  <span class="kd">var</span> <span class="nx">createTransactionHandler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">transaction</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">block</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">block</span><span class="p">.</span><span class="nx">number</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="c1">// Get each transaction, and get each block associated with the transaction.</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/transaction/address/"</span> <span class="o">+</span> <span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">transactions</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#transaction_count"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">transactions</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>

      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">transactions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">transaction</span> <span class="o">=</span> <span class="nx">transactions</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/block/blockid/"</span> <span class="o">+</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">blockId</span><span class="p">,</span> <span class="nx">createTransactionHandler</span><span class="p">(</span><span class="nx">transaction</span><span class="p">));</span>
      <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>

<h4 id="address-explorer.js">address-explorer.js</h4>

<p>You&rsquo;ll notice that the last block of code at right requests the transactions, and then we request each transaction&rsquo;s block within a <code class="prettyprint">for</code> loop. Because we&rsquo;re in that loop, we have to create a new handler for each block or else we&rsquo;ll have issues with Javascript closures. This makes <code class="prettyprint">createTransactionHandler</code> the primary method where we handle transactions and their blocks. You&rsquo;ll notice that currently, it&rsquo;s just outputting transactions and their block number to the console.</p>

<h2 id="displaying-transactions">Displaying Transactions</h2>

<p>As mentioned, perhaps the hardest part about creating an address explorer is simply displaying all the information. What we&rsquo;ll want to do is display the transactions with any associated information based on the transaction type (for instance, for a Transfer, we&rsquo;ll want to display who it&rsquo;s from and who its to). We&rsquo;ll also want to make sure these transactions are ordered by date, newest first, as that&rsquo;s important to the user. I&rsquo;ve provided the associated code below. Note that this is simply one way to output this information, and for the purposes of this tutorial I&rsquo;ve kept it very simple.</p>

<h4 id="address-explorer.js">address-explorer.js</h4>
<pre class="highlight javascript"><code><span class="cm">/* address-explorer.js */</span>

<span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"ready"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address Explorer JS up and running."</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">address</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Address: "</span> <span class="o">+</span> <span class="nx">address</span><span class="p">);</span>

  <span class="c1">// Get the account balance.</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/account/address/"</span> <span class="o">+</span> <span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">balances</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#displayed_balance"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">balances</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">balance</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">addActivity</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">timestamp</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">));</span>
    <span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"transaction twelve columns"</span><span class="p">);</span>
    <span class="nx">element</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">toISOString</span><span class="p">()</span> <span class="o">+</span> <span class="s2">" &amp;mdash;  "</span> <span class="o">+</span> <span class="nx">message</span><span class="p">);</span>
    <span class="nx">element</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"date"</span><span class="p">,</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getTime</span><span class="p">());</span>

    <span class="c1">// Keep DOM elements ordered by date.</span>
    <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">".transaction"</span><span class="p">).</span><span class="nx">detach</span><span class="p">().</span><span class="nx">get</span><span class="p">();</span>
    <span class="nx">elements</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
    <span class="nx">elements</span> <span class="o">=</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">a</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"date"</span><span class="p">));</span>
      <span class="nx">b</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"date"</span><span class="p">));</span>
      <span class="k">return</span> <span class="nx">b</span> <span class="o">-</span> <span class="nx">a</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">".container"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">elements</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="c1">// Function for getting individual blocks.</span>
  <span class="kd">var</span> <span class="nx">createTransactionHandler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">transaction</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">block</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

      <span class="k">switch</span> <span class="p">(</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">transactionType</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s2">"Contract"</span><span class="err">:</span>
          <span class="nx">addActivity</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span> <span class="s2">"New contract added to the network at cost of "</span> <span class="o">+</span> <span class="nx">block</span><span class="p">.</span><span class="nx">gasUsed</span> <span class="o">+</span> <span class="s2">" wei."</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"FunctionCall"</span><span class="err">:</span>
          <span class="nx">addActivity</span><span class="p">(</span><span class="s2">"Function call to contract at cost of "</span> <span class="o">+</span> <span class="nx">block</span><span class="p">.</span><span class="nx">gasUsed</span> <span class="o">+</span> <span class="s2">" wei."</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="s2">"Transfer"</span><span class="err">:</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">to</span> <span class="o">==</span> <span class="nx">address</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">addActivity</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span> <span class="s2">"Credit of "</span> <span class="o">+</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="s2">" wei sent from "</span> <span class="o">+</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">from</span> <span class="o">+</span> <span class="s2">"."</span><span class="p">);</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">addActivity</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span> <span class="s2">"Debit of "</span> <span class="o">+</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="s2">" wei sent to "</span> <span class="o">+</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">to</span> <span class="o">+</span> <span class="s2">"."</span><span class="p">);</span>
          <span class="p">}</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="nl">default</span><span class="p">:</span>
          <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="c1">// Get each transaction, and get each block associated with the transaction.</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/transaction/address/"</span> <span class="o">+</span> <span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">transactions</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">"#transaction_count"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">transactions</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>

      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">transactions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">transaction</span> <span class="o">=</span> <span class="nx">transactions</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/block/blockid/"</span> <span class="o">+</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">blockId</span><span class="p">,</span> <span class="nx">createTransactionHandler</span><span class="p">(</span><span class="nx">transaction</span><span class="p">));</span>
      <span class="p">}</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>

<p>You should now have something that looks like this:</p>

<p><img src="http://i.imgur.com/A33MnY7.png" /></p>

<p>From here, we can now perform our last step of the process, which is getting the amount of blocks mined by an address.</p>

<h2 id="getting-blocks-mined-by-an-address">Getting Blocks Mined by an Address</h2>

<p>So far, we&rsquo;ve shown everything related to an address that affects balance, but we&rsquo;re missing one thing. We still haven&rsquo;t shown blocks mined directly by the address, which is the last piece needed to show all the activity that&rsquo;s happened on an address. Mining will increase the amount of either in your account, so it&rsquo;s especially important for an address explorer.</p>

<p>Luckily, BlockApps makes this easy. Requesting blocks mined by an address is as easy as requesting an address&rsquo;s transactions. Here&rsquo;s an example:</p>

<p><a href="http://api.blockapps.net/query/block/coinbase/6a56cf7a57405800b18e3e0940628c190cfa73bc">http://api.blockapps.net/query/block/coinbase/6a56cf7a57405800b18e3e0940628c190cfa73bc</a></p>

<p>You&rsquo;ll notice that the output of this request differs slightly from the output when we request blocks by id. This will likely change in the future, however, the request still returns an array of blocks, and the relevant data we&rsquo;re interested can be found in the <code class="prettyprint">blockData</code> key.</p>

<p>Now that we have each block mined by this address, we can go ahead and add it to our activity list. To do this, you&rsquo;ll just need to add this block of code at the bottom of <code class="prettyprint">address-explorer.js</code>&rsquo;s main function:</p>
<pre class="highlight javascript"><code><span class="c1">// Get blocks mined by the address.</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="s2">"http://api.blockapps.net/query/block/coinbase/"</span> <span class="o">+</span> <span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">blocks</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">jqXHR</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#blocks_mined_count"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">blocks</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">blocks</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">block</span> <span class="o">=</span> <span class="nx">blocks</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
      <span class="nx">addActivity</span><span class="p">(</span><span class="nx">block</span><span class="p">.</span><span class="nx">blockData</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span> <span class="s2">"Mined block #"</span> <span class="o">+</span> <span class="nx">block</span><span class="p">.</span><span class="nx">blockData</span><span class="p">.</span><span class="nx">number</span> <span class="o">+</span> <span class="s2">" with a block reward of 1500000000000000000 wei."</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<p>And that&rsquo;s it! Mined blocks are now included in the list as activities like transactions; they&rsquo;re also sorted, and the number of blocks mined is displayed up top as well. You should now have an explorer that includes minded blocks, like this!</p>

<p><img src="http://i.imgur.com/uFUjF8O.png" /></p>

<h2 id="wrapping-up-and-further-study">Wrapping Up and Further Study</h2>

<p>From this tutorial, you should have learned how to request enough information from BlockApps to create your own address explorer. The explorer you created was basic, and there are a few things you can do to make your explorer more usable and fully featured:</p>

<ul>
<li><p><strong>Show Ether denominations other than wei.</strong> If you&rsquo;re not familiar, wei is the smallest denomination of Ether on the Ethereum network, and all values provided by BlockApps are in wei. Wei so small, in fact, that in order to have 1 Ether&rsquo;s worth of wei, you&rsquo;d have to have a &ldquo;1&rdquo; with nineteen 0&rsquo;s behind it. There are other denominations like <code class="prettyprint">finney</code> and <code class="prettyprint">szabo</code> that can be used to more easily describe Ether value, and you should look into displaying values in those denominations when possible. You can use <a href="http://ether.fund/tool/converter">this converter</a> to help you figure out the relationship between the denominations.</p></li>
<li><p><strong>Use a BigNumber library.</strong> As you may have noticed, all values of Ether provided by BlockApps were sent as Strings. This is because many programming languages, like Javascript, can&rsquo;t hold large numbers with arbitrary amounts of precision &ndash; data will inevitably be lost. If you plan on converting your values of wei to different denominations, or you plan to perform arithmetic on Ether values, you&rsquo;ll want to <a href="https://github.com/MikeMcl/bignumber.js/">use this bignumber library</a> instead of using <code class="prettyprint">parseInt()</code>.</p></li>
<li><p><strong>Link addresses displayed on screen!</strong> Your address explorer becomes more powerful when you can click into other addresses and see the activity going on with that account. You should turn all addresses displayed on screen &ndash; such as addresses of accounts that sent Ether to your account &ndash; into links so your users can click between them.</p></li>
<li><p><strong>Provide a nicer looking interface.</strong> Spruce up the place! As stated multiple times, the hardest part about creating an address explorer with BlockApps is making things look nice. Change the font, add some color. Perhaps, even, change the way activities are displayed.</p></li>
</ul>

<p>There&rsquo;s a lot you can do, and this is just of taste of what BlockApps can do to help you build apps on Ethereum. I hope you enjoyed it, and don&rsquo;t hesitate to ask us any questions. Thanks!</p>

<h2 id="source-code">Source Code</h2>

<p>You can find the full code for this tutorial <a href="https://github.com/tcoulter/address-explorer/tree/master/tutorial">here</a>.</p>

<h2 id="further-resources">Further Resources</h2>

<p>Want to learn more about dApps?  </p>

<p>Check out <a href="https://dappsforbeginners.wordpress.com/">dApps for Beginners</a> which will teach you how to use Ethereum using a full stack.</p>

<p>Also <a href="http://eepurl.com/brjkJX" target="blank">sign up</a> for our newsletter to hear more about future BlockApps tutorials.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
    <!-- GA -->
    <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-64394910-1', 'auto');
     ga('send', 'pageview');

    </script>
  </body>
</html>
